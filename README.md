# rust_learning
Personal repo for learn how to use Rust.  
No use just test.

学习引用、作用域与所有权相关概念和语法。

使用引用而不是每次赋值都执行 “深拷贝” 或 “克隆” 可以减少内存占用。  
但引用可能会导致其他问题，例如：
* “指针”指向错误的堆
* 多个可变引用指向同一个堆导致数据被篡改
* 不可变引用与可变应用指向一个堆导致数据被篡改

Rust 在编译阶段有一些限制防止出现类似问题：
* 简单且长度不变的类型例如整型、浮点型、布尔型、字符型、定长数组以及全部成员都是简单变量的固定长元组等都直接存储在栈中。
* 字符串的实际值存储在堆中，而我们使用的是存储在栈中的指向这个堆的指针
* 有别于其他更基础的语言，为了安全，rust 提供了叫做引用的安全指针
* 引用分为不可变引用 `&` 和可变引用 `&mut`，不可变引用只能读，可变引用可读可改
* 一个变量可以有若干不可变引用
* 有不可变引用的变量不允许有可变引用
* 一个变量不允许有多个不可变引用
* 一个变量直接传递给函数时，会发生所有权转移，在传递之后这个变量无法使用
* 一个变量将其不可变引用传递给函数时，会发生借用，在传递之后原变量仍然可以使用，原变量允许有其他不可变引用，但是不允许有可变引用。
* 一个变量将其可变引用传递给函数时，会发生借用，在传递之后原变量仍然可以使用，但原变量不允许有其他不可变引用和可变引用。
* 变量，不管是引用还是字面量，在自己所在的作用域结束时，会被清理。